(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/play"],{126:function(t,n,i){"use strict";i.r(n);var e=i(127),o=i(129);for(var a in o)"default"!==a&&function(t){i.d(n,t,(function(){return o[t]}))}(a);i(131);var s,r=i(11),u=Object(r["default"])(o["default"],e["render"],e["staticRenderFns"],!1,null,"1f45e222",null,!1,e["components"],s);u.options.__file="components/play.vue",n["default"]=u.exports},127:function(t,n,i){"use strict";i.r(n);var e=i(128);i.d(n,"render",(function(){return e["render"]})),i.d(n,"staticRenderFns",(function(){return e["staticRenderFns"]})),i.d(n,"recyclableRender",(function(){return e["recyclableRender"]})),i.d(n,"components",(function(){return e["components"]}))},128:function(t,n,i){"use strict";var e;i.r(n),i.d(n,"render",(function(){return o})),i.d(n,"staticRenderFns",(function(){return s})),i.d(n,"recyclableRender",(function(){return a})),i.d(n,"components",(function(){return e}));var o=function(){var t=this,n=t.$createElement;t._self._c},a=!1,s=[];o._withStripped=!0},129:function(t,n,i){"use strict";i.r(n);var e=i(130),o=i.n(e);for(var a in e)"default"!==a&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n["default"]=o.a},130:function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i(23),o=i(25),a={name:"play",data:function(){return{info:{id:"",url:"",author:"暂无",name:"暂无",poster:""},playList:[],index:0,altitutde:"icon-bofang",currentTime:0}},computed:{getInfo:function(){return this.info}},mounted:function(){var n=this;t.$on("playinfo",(function(i){t.setStorage({key:"info",data:i}),n.info=i,n.$store.commit("setinnerAudioContextSrc",n.info.url),n.$store.commit("setPlay"),n.altitutde="icon-zanting",n.getsimilarMusic(i.id)})),t.$on("audioChnage",(function(){n.altitutde="icon-bofang",n.$store.commit("setPause")})),t.$on("pause",(function(){n.altitutde="icon-bofang",n.$store.commit("setPause")})),t.$on("audioPlay",(function(t){n.info.id=t.id,n.getmusicDetialInfo(t.id),t.isPlay?(n.altitutde="icon-zanting",n.$store.commit("setPlay")):(n.altitutde="icon-bofang",n.$store.commit("setPause")),n.playList=n.$store.getters.getPlayList}));var i=t.getStorageSync("info");i&&(this.info=i,this.$store.commit("setinnerAudioContextSrc",this.info.url),this.$store.commit("setPause"),this.getsimilarMusic(this.info.id)),this.$store.getters.getinnerAudioContext.onEnded((function(){n.next()}))},methods:{throttle:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;(0,o.throttle)(t,n)()},getsimilarMusic:function(t){var n=this;(0,e.similarMusic)(t).then((function(t){n.playList=t.data.songs}))},getMusicUrl:function(t){var n=this;return(0,e.getMusicUrl)(t).then((function(t){n.info.url=t.data.data[0].url,n.$store.commit("setinnerAudioContextSrc",n.info.url)}))},play:function(){"icon-bofang"===this.altitutde?(this.altitutde="icon-zanting",this.$store.commit("setPlay")):(this.altitutde="icon-bofang",this.$store.commit("setPause"))},getmusicDetialInfo:function(t){var n=this;return(0,e.musicDetialInfo)(t).then((function(t){n.info.author=t.data.songs[0].ar[0].name,n.info.name=t.data.songs[0].al.name,n.info.poster=t.data.songs[0].al.picUrl}))},getMusic:function(n){var i=this;this.info.id=n.id,n.album?(this.info.author=n.album.name,this.info.poster=n.album.picUrl):(this.info.author=n.ar[0].name,this.info.poster=n.al.picUrl),this.info.name=n.name,Promise.all([this.getmusicDetialInfo(n.id),this.getMusicUrl(n.id)]).then((function(){t.setStorage({key:"info",data:i.info})})),this.getsimilarMusic(this.info.id)},next:function(){var n=this.playList.length;if(0!==n){if(this.index===n-1){var i=this.playList[0];this.getMusic(i),this.index=0}else{var e=this.playList[this.index+1];this.getMusic(e),this.index++}this.altitutde="icon-zanting"}else t.showToast({title:"暂无曲目"})},jumpToPlayer:function(n){""!==n?t.navigateTo({url:"../player/player?id="+n+"&from=play"}):t.showToast({title:"暂无曲目"})}}};n.default=a}).call(this,i(1)["default"])},131:function(t,n,i){"use strict";i.r(n);var e=i(132),o=i.n(e);for(var a in e)"default"!==a&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n["default"]=o.a},132:function(t,n,i){}}]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/components/play.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/play-create-component',
    {
        'components/play-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(126))
        })
    },
    [['components/play-create-component']]
]);

(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/singInfo/singInfo"],{"1d30":function(t,n,i){},"46e5":function(t,n,i){"use strict";i.r(n);var e=i("6ec9"),s=i.n(e);for(var a in e)"default"!==a&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n["default"]=s.a},"4d53":function(t,n,i){"use strict";i.r(n);var e=i("795e"),s=i("46e5");for(var a in s)"default"!==a&&function(t){i.d(n,t,(function(){return s[t]}))}(a);i("fe80");var o,u=i("f0c5"),r=Object(u["a"])(s["default"],e["b"],e["c"],!1,null,"50b3c658",null,!1,e["a"],o);n["default"]=r.exports},"6ec9":function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i("a4d8"),s=i("adeb"),a={data:function(){return{id:null,desc:[],singList:[],index:0,singLength:0,offset:1,mindex:0,musicId:0,url:"",name:"",poster:"",author:""}},onLoad:function(t){this.id=t.id,this.getsingerAllSing(this.id),this.getsingerDetailInfo(this.id)},onUnload:function(){this.musicId&&t.$emit("audioPlay",this.musicId)},onReachBottom:function(){0===this.index&&this.moreSing(this.id)},methods:{getsingerAllSing:function(t){var n=this;(0,e.singerAllSing)(t).then((function(t){n.singList=t.data.songs,n.$store.commit("setPlayList",n.songList),n.singLength=t.data.total}))},getsingerDetailInfo:function(t){var n=this;(0,e.singerDetailInfo)(t).then((function(t){n.desc=t.data.data}))},getMusicUrl:function(t){var n=this;return(0,s.getMusicUrl)(t).then((function(t){n.url=t.data.data[0].url,n.$store.commit("setinnerAudioContextSrc",t.data.data[0].url)}))},getmusicDetialInfo:function(t){var n=this;return(0,s.musicDetialInfo)(t).then((function(t){n.author=t.data.songs[0].ar[0].name,n.name=t.data.songs[0].al.name,n.poster=t.data.songs[0].al.picUrl}))},moreSing:function(t){var n=this;20*this.offset<this.singLength&&(this.offset++,(0,e.singerAllSing)(t,this.offset).then((function(t){var i=t.data.songs;n.singList=n.singList.concat(i),n.$store.commit("setPlayList",n.songList)})))},changeSing:function(n){var i=this;Promise.all([this.getMusicUrl(n),this.getmusicDetialInfo(n)]).then((function(){var e=n,s=i.author,a=i.name,o=i.url,u=i.poster,r={id:e,name:a,author:s,poster:u,url:o};t.setStorage({key:"info",data:r})}))},changeIndex:function(t){this.index=t},next:function(){var t=null;this.index==this.singList.length-1?(t=this.singList[0].id,this.mindex=0):(t=this.singList[this.index+1].id,this.mindex++),this.changeSing(t)},bofang:function(t,n){this.musicId=t,this.mindex=n,this.changeSing(t)}}};n.default=a}).call(this,i("543d")["default"])},"795e":function(t,n,i){"use strict";var e;i.d(n,"b",(function(){return s})),i.d(n,"c",(function(){return a})),i.d(n,"a",(function(){return e}));var s=function(){var t=this,n=t.$createElement;t._self._c},a=[]},fd0d:function(t,n,i){"use strict";(function(t){i("d895");e(i("66fd"));var n=e(i("4d53"));function e(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(n.default)}).call(this,i("543d")["createPage"])},fe80:function(t,n,i){"use strict";var e=i("1d30"),s=i.n(e);s.a}},[["fd0d","common/runtime","common/vendor"]]]);